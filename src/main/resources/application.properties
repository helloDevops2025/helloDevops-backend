# ==============================
# ?? DATASOURCE (??????? ENV, ?????????????? default ????????? compose)
# ==============================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://mysql:3306/hellodevops?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:user_devops}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:user1234}

# ==============================
# ? JPA / HIBERNATE
# - ??? Flyway ??? schema ? ddl-auto ??????? none
# ==============================
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:none}
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# ==============================
# ? FLYWAY
# - ?? compose ?????? Flyway ???????? ? ???? default ??? "false"
#   (???????????? migration ???????? ???????????? true ???? ENV)
# ==============================
spring.flyway.enabled=${SPRING_FLYWAY_ENABLED:false}
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# ==============================
# ? CORS (Vite port 5173)
# ==============================
spring.mvc.cors.allowed-origins=http://localhost:5173
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.mvc.cors.allowed-headers=*

# ==============================
# ? SERVER
# - compose ????????? 8080:8080 ? ???????????? 8080
# ==============================
server.port=${APP_PORT:8080}
